{"ast":null,"code":"const API_BASE = \"http://localhost:5000/api\";\nasync function apiRequest(endpoint, method = \"GET\", body = null, auth = false) {\n  const headers = {\n    \"Content-Type\": \"application/json\"\n  };\n  if (auth) {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n  }\n  const res = await fetch(`${API_BASE}${endpoint}`, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : null,\n    credentials: 'include'\n  });\n  const data = await res.json();\n  if (!res.ok) {\n    // Handle standardized error responses\n    throw new Error(data.message || `API Error: ${res.status}`);\n  }\n\n  // Handle standardized success responses\n  if (data.success !== undefined) {\n    return data.data || data; // Return data field for new format, full response for old format\n  }\n  return data; // Return as-is for non-standardized responses\n}\nexport default apiRequest;","map":{"version":3,"names":["API_BASE","apiRequest","endpoint","method","body","auth","headers","token","localStorage","getItem","res","fetch","JSON","stringify","credentials","data","json","ok","Error","message","status","success","undefined"],"sources":["/Users/mohit/Downloads/CertifyHub/client/src/utils/api.js"],"sourcesContent":["const API_BASE = \"http://localhost:5000/api\";\n\nasync function apiRequest(endpoint, method = \"GET\", body = null, auth = false) {\n  const headers = { \"Content-Type\": \"application/json\" };\n  if (auth) {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n  }\n\n  const res = await fetch(`${API_BASE}${endpoint}`, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : null,\n    credentials: 'include',\n  });\n\n  const data = await res.json();\n  \n  if (!res.ok) {\n    // Handle standardized error responses\n    throw new Error(data.message || `API Error: ${res.status}`);\n  }\n\n  // Handle standardized success responses\n  if (data.success !== undefined) {\n    return data.data || data; // Return data field for new format, full response for old format\n  }\n  \n  return data; // Return as-is for non-standardized responses\n}\n\nexport default apiRequest;\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,2BAA2B;AAE5C,eAAeC,UAAUA,CAACC,QAAQ,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAEC,IAAI,GAAG,KAAK,EAAE;EAC7E,MAAMC,OAAO,GAAG;IAAE,cAAc,EAAE;EAAmB,CAAC;EACtD,IAAID,IAAI,EAAE;IACR,MAAME,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAIF,KAAK,EAAE;MACTD,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUC,KAAK,EAAE;IAC9C;EACF;EAEA,MAAMG,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGX,QAAQ,GAAGE,QAAQ,EAAE,EAAE;IAChDC,MAAM;IACNG,OAAO;IACPF,IAAI,EAAEA,IAAI,GAAGQ,IAAI,CAACC,SAAS,CAACT,IAAI,CAAC,GAAG,IAAI;IACxCU,WAAW,EAAE;EACf,CAAC,CAAC;EAEF,MAAMC,IAAI,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,CAAC;EAE7B,IAAI,CAACN,GAAG,CAACO,EAAE,EAAE;IACX;IACA,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACI,OAAO,IAAI,cAAcT,GAAG,CAACU,MAAM,EAAE,CAAC;EAC7D;;EAEA;EACA,IAAIL,IAAI,CAACM,OAAO,KAAKC,SAAS,EAAE;IAC9B,OAAOP,IAAI,CAACA,IAAI,IAAIA,IAAI,CAAC,CAAC;EAC5B;EAEA,OAAOA,IAAI,CAAC,CAAC;AACf;AAEA,eAAed,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}