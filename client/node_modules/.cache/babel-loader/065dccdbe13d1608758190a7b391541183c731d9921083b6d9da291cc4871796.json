{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import apiRequest from'../utils/api';import'./Home.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Home=()=>{const[courses,setCourses]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[category,setCategory]=useState('');const[sortBy,setSortBy]=useState('');useEffect(()=>{loadCourses();},[searchTerm,category,sortBy]);const loadCourses=async()=>{try{const params=new URLSearchParams();if(searchTerm)params.append('keyword',searchTerm);if(category)params.append('category',category);if(sortBy)params.append('sort',sortBy);const queryString=params.toString();const endpoint=queryString?\"/courses?\".concat(queryString):'/courses';const data=await apiRequest(endpoint,'GET');// Handle both old and new API response formats\nconst coursesArray=Array.isArray(data)?data:data.courses||[];setCourses(coursesArray);}catch(error){console.error('Failed to load courses',error);setCourses([]);}};const handleSearch=()=>{loadCourses();};// Connect Home component with CSS by adding a className to the root div\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"home-page\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"hero-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hero-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to CertifyHub\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Discover, learn, and get certified with our extensive collection of online courses\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hero-stats\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:courses.length}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Available Courses\"})]})})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"search-filter\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Search courses...\",className:\"search-input\"}),/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:e=>setCategory(e.target.value),className:\"filter-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Development\",children:\"Development\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Design\",children:\"Design\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Marketing\",children:\"Marketing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Business\",children:\"Business\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Data Science\",children:\"Data Science\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"filter-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Sort By\"}),/*#__PURE__*/_jsx(\"option\",{value:\"latest\",children:\"Latest\"}),/*#__PURE__*/_jsx(\"option\",{value:\"popular\",children:\"Popular\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rating\",children:\"Highest Rated\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price_low\",children:\"Price: Low to High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price_high\",children:\"Price: High to Low\"})]})]})}),/*#__PURE__*/_jsxs(\"section\",{className:\"courses-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Available Courses\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"course-count\",children:[\"Showing \",courses.length,\" courses\"]})]}),courses.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-courses\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No courses found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Try adjusting your search or filter criteria\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"courses-list\",children:courses.map(course=>{var _course$instructor;return/*#__PURE__*/_jsxs(\"div\",{className:\"course-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"course-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:course.title}),/*#__PURE__*/_jsx(\"span\",{className:\"course-category\",children:course.category})]}),/*#__PURE__*/_jsx(\"p\",{className:\"course-description\",children:course.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"course-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"course-instructor\",children:[\"by \",((_course$instructor=course.instructor)===null||_course$instructor===void 0?void 0:_course$instructor.name)||'Unknown']}),/*#__PURE__*/_jsx(\"div\",{className:\"course-rating\",children:course.averageRating>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"rating-stars\",children:'★'.repeat(Math.floor(course.averageRating))}),/*#__PURE__*/_jsxs(\"span\",{className:\"rating-number\",children:[\"(\",course.averageRating.toFixed(1),\")\"]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"course-footer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"course-price\",children:course.price===0?'Free':\"$\".concat(course.price)}),/*#__PURE__*/_jsx(Link,{to:\"/courses/\".concat(course._id),className:\"course-link\",children:\"View Course\"})]})]},course._id);})})]})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","Link","apiRequest","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","courses","setCourses","searchTerm","setSearchTerm","category","setCategory","sortBy","setSortBy","loadCourses","params","URLSearchParams","append","queryString","toString","endpoint","concat","data","coursesArray","Array","isArray","error","console","handleSearch","className","children","length","type","value","onChange","e","target","placeholder","map","course","_course$instructor","title","description","instructor","name","averageRating","repeat","Math","floor","toFixed","price","to","_id"],"sources":["/Users/mohit/Downloads/CertifyHub/client/src/pages/Home.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport apiRequest from '../utils/api';\nimport './Home.css';\n\nconst Home = () => {\n  const [courses, setCourses] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [category, setCategory] = useState('');\n  const [sortBy, setSortBy] = useState('');\n\n  useEffect(() => {\n    loadCourses();\n  }, [searchTerm, category, sortBy]);\n\n  const loadCourses = async () => {\n    try {\n      const params = new URLSearchParams();\n      if (searchTerm) params.append('keyword', searchTerm);\n      if (category) params.append('category', category);\n      if (sortBy) params.append('sort', sortBy);\n      \n      const queryString = params.toString();\n      const endpoint = queryString ? `/courses?${queryString}` : '/courses';\n      \n      const data = await apiRequest(endpoint, 'GET');\n      // Handle both old and new API response formats\n      const coursesArray = Array.isArray(data) ? data : (data.courses || []);\n      setCourses(coursesArray);\n    } catch (error) {\n      console.error('Failed to load courses', error);\n      setCourses([]);\n    }\n  };\n\n  const handleSearch = () => {\n    loadCourses();\n  };\n\n  // Connect Home component with CSS by adding a className to the root div\n  return (\n    <div className=\"home-page\">\n      {/* Hero Section */}\n      <section className=\"hero-section\">\n        <div className=\"hero-content\">\n          <h1>Welcome to CertifyHub</h1>\n          <p>Discover, learn, and get certified with our extensive collection of online courses</p>\n          <div className=\"hero-stats\">\n            <div className=\"stat\">\n              <span className=\"stat-number\">{courses.length}</span>\n              <span className=\"stat-label\">Available Courses</span>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Search & Filter */}\n      <section className=\"search-filter\">\n        <div className=\"filter-group\">\n          <input\n            type=\"text\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            placeholder=\"Search courses...\"\n            className=\"search-input\"\n          />\n          <select value={category} onChange={(e) => setCategory(e.target.value)} className=\"filter-select\">\n            <option value=\"\">All Categories</option>\n            <option value=\"Development\">Development</option>\n            <option value=\"Design\">Design</option>\n            <option value=\"Marketing\">Marketing</option>\n            <option value=\"Business\">Business</option>\n            <option value=\"Data Science\">Data Science</option>\n          </select>\n          <select value={sortBy} onChange={(e) => setSortBy(e.target.value)} className=\"filter-select\">\n            <option value=\"\">Sort By</option>\n            <option value=\"latest\">Latest</option>\n            <option value=\"popular\">Popular</option>\n            <option value=\"rating\">Highest Rated</option>\n            <option value=\"price_low\">Price: Low to High</option>\n            <option value=\"price_high\">Price: High to Low</option>\n          </select>\n        </div>\n      </section>\n\n      {/* Courses List */}\n      <section className=\"courses-section\">\n        <div className=\"section-header\">\n          <h2>Available Courses</h2>\n          <p className=\"course-count\">Showing {courses.length} courses</p>\n        </div>\n        \n        {courses.length === 0 ? (\n          <div className=\"no-courses\">\n            <h3>No courses found</h3>\n            <p>Try adjusting your search or filter criteria</p>\n          </div>\n        ) : (\n          <div className=\"courses-list\">\n            {courses.map(course => (\n              <div key={course._id} className=\"course-card\">\n                <div className=\"course-header\">\n                  <h3>{course.title}</h3>\n                  <span className=\"course-category\">{course.category}</span>\n                </div>\n                <p className=\"course-description\">{course.description}</p>\n                <div className=\"course-meta\">\n                  <span className=\"course-instructor\">by {course.instructor?.name || 'Unknown'}</span>\n                  <div className=\"course-rating\">\n                    {course.averageRating > 0 && (\n                      <>\n                        <span className=\"rating-stars\">{'★'.repeat(Math.floor(course.averageRating))}</span>\n                        <span className=\"rating-number\">({course.averageRating.toFixed(1)})</span>\n                      </>\n                    )}\n                  </div>\n                </div>\n                <div className=\"course-footer\">\n                  <span className=\"course-price\">\n                    {course.price === 0 ? 'Free' : `$${course.price}`}\n                  </span>\n                  <Link to={`/courses/${course._id}`} className=\"course-link\">\n                    View Course\n                  </Link>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </section>\n    </div>\n  );\n};\n\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}