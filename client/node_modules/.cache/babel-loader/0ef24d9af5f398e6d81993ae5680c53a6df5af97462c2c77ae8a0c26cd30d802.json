{"ast":null,"code":"const API_BASE = \"http://localhost:5000/api\";\nasync function apiRequest(endpoint, method = \"GET\", body = null, auth = false) {\n  const headers = {};\n\n  // Only set Content-Type to application/json if body is not FormData\n  if (!(body instanceof FormData)) {\n    headers[\"Content-Type\"] = \"application/json\";\n  }\n  if (auth) {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n  }\n  const res = await fetch(`${API_BASE}${endpoint}`, {\n    method,\n    headers,\n    body: body instanceof FormData ? body : body ? JSON.stringify(body) : null,\n    credentials: 'include'\n  });\n  const data = await res.json();\n  if (!res.ok) {\n    // Handle standardized error responses\n    throw new Error(data.message || `API Error: ${res.status}`);\n  }\n\n  // Handle standardized success responses\n  if (data.success !== undefined) {\n    return data.data || data; // Return data field for new format, full response for old format\n  }\n  return data; // Return as-is for non-standardized responses\n}\nexport default apiRequest;","map":{"version":3,"names":["API_BASE","apiRequest","endpoint","method","body","auth","headers","FormData","token","localStorage","getItem","res","fetch","JSON","stringify","credentials","data","json","ok","Error","message","status","success","undefined"],"sources":["C:/Users/DELL/Desktop/CertifyHub-main/CertifyHub-main/client/src/utils/api.js"],"sourcesContent":["const API_BASE = \"http://localhost:5000/api\";\n\nasync function apiRequest(endpoint, method = \"GET\", body = null, auth = false) {\n  const headers = {};\n\n  // Only set Content-Type to application/json if body is not FormData\n  if (!(body instanceof FormData)) {\n    headers[\"Content-Type\"] = \"application/json\";\n  }\n\n  if (auth) {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n  }\n\n  const res = await fetch(`${API_BASE}${endpoint}`, {\n    method,\n    headers,\n    body: body instanceof FormData ? body : (body ? JSON.stringify(body) : null),\n    credentials: 'include',\n  });\n\n  const data = await res.json();\n\n  if (!res.ok) {\n    // Handle standardized error responses\n    throw new Error(data.message || `API Error: ${res.status}`);\n  }\n\n  // Handle standardized success responses\n  if (data.success !== undefined) {\n    return data.data || data; // Return data field for new format, full response for old format\n  }\n\n  return data; // Return as-is for non-standardized responses\n}\n\nexport default apiRequest;\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,2BAA2B;AAE5C,eAAeC,UAAUA,CAACC,QAAQ,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAEC,IAAI,GAAG,KAAK,EAAE;EAC7E,MAAMC,OAAO,GAAG,CAAC,CAAC;;EAElB;EACA,IAAI,EAAEF,IAAI,YAAYG,QAAQ,CAAC,EAAE;IAC/BD,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB;EAC9C;EAEA,IAAID,IAAI,EAAE;IACR,MAAMG,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAIF,KAAK,EAAE;MACTF,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUE,KAAK,EAAE;IAC9C;EACF;EAEA,MAAMG,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGZ,QAAQ,GAAGE,QAAQ,EAAE,EAAE;IAChDC,MAAM;IACNG,OAAO;IACPF,IAAI,EAAEA,IAAI,YAAYG,QAAQ,GAAGH,IAAI,GAAIA,IAAI,GAAGS,IAAI,CAACC,SAAS,CAACV,IAAI,CAAC,GAAG,IAAK;IAC5EW,WAAW,EAAE;EACf,CAAC,CAAC;EAEF,MAAMC,IAAI,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,CAAC;EAE7B,IAAI,CAACN,GAAG,CAACO,EAAE,EAAE;IACX;IACA,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACI,OAAO,IAAI,cAAcT,GAAG,CAACU,MAAM,EAAE,CAAC;EAC7D;;EAEA;EACA,IAAIL,IAAI,CAACM,OAAO,KAAKC,SAAS,EAAE;IAC9B,OAAOP,IAAI,CAACA,IAAI,IAAIA,IAAI,CAAC,CAAC;EAC5B;EAEA,OAAOA,IAAI,CAAC,CAAC;AACf;AAEA,eAAef,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}