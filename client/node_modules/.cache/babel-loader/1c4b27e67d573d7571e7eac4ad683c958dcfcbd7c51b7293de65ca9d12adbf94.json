{"ast":null,"code":"const API_BASE = \"http://localhost:5000/api\";\nasync function apiRequest(endpoint, method = \"GET\", body = null, auth = false) {\n  const headers = {\n    \"Content-Type\": \"application/json\"\n  };\n  if (auth) {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user !== null && user !== void 0 && user.token) {\n      headers[\"Authorization\"] = `Bearer ${user.token}`;\n    }\n  }\n  const res = await fetch(`${API_BASE}${endpoint}`, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : null,\n    credentials: 'include'\n  });\n  if (!res.ok) {\n    throw new Error(`API Error: ${res.status}`);\n  }\n  return res.json();\n}\nexport default apiRequest;","map":{"version":3,"names":["API_BASE","apiRequest","endpoint","method","body","auth","headers","user","JSON","parse","localStorage","getItem","token","res","fetch","stringify","credentials","ok","Error","status","json"],"sources":["/Users/mohit/Downloads/CertifyHub/client/src/utils/api.js"],"sourcesContent":["const API_BASE = \"http://localhost:5000/api\";\n\nasync function apiRequest(endpoint, method = \"GET\", body = null, auth = false) {\n  const headers = { \"Content-Type\": \"application/json\" };\n  if (auth) {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user?.token) {\n      headers[\"Authorization\"] = `Bearer ${user.token}`;\n    }\n  }\n\n  const res = await fetch(`${API_BASE}${endpoint}`, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : null,\n    credentials: 'include',\n  });\n\n  if (!res.ok) {\n    throw new Error(`API Error: ${res.status}`);\n  }\n\n  return res.json();\n}\n\nexport default apiRequest;\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,2BAA2B;AAE5C,eAAeC,UAAUA,CAACC,QAAQ,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAEC,IAAI,GAAG,KAAK,EAAE;EAC7E,MAAMC,OAAO,GAAG;IAAE,cAAc,EAAE;EAAmB,CAAC;EACtD,IAAID,IAAI,EAAE;IACR,MAAME,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;IACrD,IAAIJ,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEK,KAAK,EAAE;MACfN,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUC,IAAI,CAACK,KAAK,EAAE;IACnD;EACF;EAEA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGd,QAAQ,GAAGE,QAAQ,EAAE,EAAE;IAChDC,MAAM;IACNG,OAAO;IACPF,IAAI,EAAEA,IAAI,GAAGI,IAAI,CAACO,SAAS,CAACX,IAAI,CAAC,GAAG,IAAI;IACxCY,WAAW,EAAE;EACf,CAAC,CAAC;EAEF,IAAI,CAACH,GAAG,CAACI,EAAE,EAAE;IACX,MAAM,IAAIC,KAAK,CAAC,cAAcL,GAAG,CAACM,MAAM,EAAE,CAAC;EAC7C;EAEA,OAAON,GAAG,CAACO,IAAI,CAAC,CAAC;AACnB;AAEA,eAAenB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}