{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import apiRequest from'../utils/api';import useAuth from'../hooks/useAuth';import'./CourseContent.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CourseContent=()=>{var _viewer$lesson,_viewer$lesson2,_viewer$lesson3,_viewer$lesson4,_viewer$lesson5,_viewer$lesson6,_viewer$lesson7,_viewer$lesson8,_viewer$lesson9,_viewer$lesson0,_viewer$lesson1,_viewer$lesson10,_quizViewer$quiz,_quizViewer$quiz2,_quizViewer$quiz3,_assignmentViewer$ass,_assignmentViewer$ass2;const{id}=useParams();const{user}=useAuth();const[modules,setModules]=useState([]);const[completed,setCompleted]=useState([]);const[course,setCourse]=useState(null);const[viewer,setViewer]=useState({open:false,lesson:null});const[quizViewer,setQuizViewer]=useState({open:false,quiz:null,attempts:[]});const[assignmentViewer,setAssignmentViewer]=useState({open:false,assignment:null,submissions:[]});const[quizAnswers,setQuizAnswers]=useState([]);const[assignmentSubmission,setAssignmentSubmission]=useState(\"\");const[statusMsg,setStatusMsg]=useState(\"\");const[errorMsg,setErrorMsg]=useState(\"\");useEffect(()=>{fetchContent();},[id]);const fetchContent=async()=>{try{setErrorMsg(\"\");const data=await apiRequest(\"/courses/\".concat(id,\"/content\"),'GET',null,true);setModules(data.modules||[]);setCompleted(data.completedModules||[]);setCourse(data.course||null);}catch(err){setErrorMsg('Failed to load course content: '+err.message);console.error('Failed to load course content',err);}};const handleCheck=async(moduleId,checked)=>{try{setStatusMsg(checked?\"Marking as complete...\":\"Marking as incomplete...\");setErrorMsg(\"\");let resp;if(checked){resp=await apiRequest(\"/courses/\".concat(id,\"/modules/\").concat(moduleId,\"/complete\"),'POST',null,true);}else{resp=await apiRequest(\"/courses/\".concat(id,\"/modules/\").concat(moduleId,\"/incomplete\"),'POST',null,true);}setStatusMsg(resp&&resp.message?resp.message:\"Progress updated.\");console.log(\"Progress API response:\",resp);// Always refetch content to get latest progress\nawait fetchContent();}catch(err){setErrorMsg('Failed to update progress: '+err.message);setStatusMsg(\"\");console.error('Failed to update progress',err);}};const handleTakeQuiz=async quizId=>{try{setErrorMsg(\"\");const quiz=await apiRequest(\"/quizzes/single/\".concat(quizId),'GET',null,true);setQuizAnswers(new Array(quiz.questions.length).fill(null));setQuizViewer({open:true,quiz});}catch(err){setErrorMsg('Failed to load quiz: '+err.message);console.error('Failed to load quiz',err);}};const handleSubmitQuiz=async()=>{try{setErrorMsg(\"\");const answers=quizAnswers.map((answer,index)=>({questionIndex:index,selectedAnswer:answer}));const resp=await apiRequest(\"/quizzes/\".concat(quizViewer.quiz._id,\"/submit\"),'POST',{answers},true);setStatusMsg(\"Quiz submitted! Score: \".concat(resp.score,\"%\"));setQuizViewer({open:false,quiz:null});setQuizAnswers([]);}catch(err){setErrorMsg('Failed to submit quiz: '+err.message);console.error('Failed to submit quiz',err);}};const handleSubmitAssignment=async()=>{try{setErrorMsg(\"\");await apiRequest(\"/assignments/\".concat(assignmentViewer.assignment._id,\"/submit\"),'POST',{submission:assignmentSubmission},true);alert(\"Assignment submitted successfully!\");setAssignmentViewer({open:false,assignment:null,submissions:[]});setAssignmentSubmission(\"\");}catch(err){setErrorMsg('Failed to submit assignment: '+err.message);console.error('Failed to submit assignment',err);}};const handleViewSubmissions=async assignment=>{try{setErrorMsg(\"\");const data=await apiRequest(\"/assignments/\".concat(assignment._id,\"/submissions\"),'GET',null,true);setAssignmentViewer({open:true,assignment,submissions:data.submissions||[]});}catch(err){setErrorMsg('Failed to load submissions: '+err.message);console.error('Failed to load submissions',err);}};const handleGradeSubmission=async(studentId,grade)=>{try{await apiRequest(\"/assignments/\".concat(assignmentViewer.assignment._id,\"/grade/\").concat(studentId),'PUT',{grade},true);setStatusMsg(\"Submission graded successfully!\");// Refresh submissions\nif(assignmentViewer.assignment){await handleViewSubmissions(assignmentViewer.assignment);}}catch(err){setErrorMsg('Failed to grade submission: '+err.message);console.error('Failed to grade submission',err);}};const handleDeleteAssignment=async assignmentId=>{try{await apiRequest(\"/assignments/\".concat(assignmentId),'DELETE',null,true);setStatusMsg(\"Assignment deleted successfully!\");await fetchContent();}catch(err){setErrorMsg('Failed to delete assignment: '+err.message);console.error('Failed to delete assignment',err);}};const handleDeleteQuiz=async quizId=>{try{await apiRequest(\"/quizzes/\".concat(quizId),'DELETE',null,true);setStatusMsg(\"Quiz deleted successfully!\");await fetchContent();}catch(err){setErrorMsg('Failed to delete quiz: '+err.message);console.error('Failed to delete quiz',err);}};const progress=modules.length?completed.length/modules.length*100:0;return/*#__PURE__*/_jsxs(\"div\",{className:\"course-content-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:course?course.title:'Course Content'}),statusMsg&&/*#__PURE__*/_jsx(\"div\",{style:{color:'green',marginBottom:8},children:statusMsg}),errorMsg&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',marginBottom:8},children:errorMsg}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress\",style:{width:\"\".concat(progress,\"%\")}})}),/*#__PURE__*/_jsx(\"ul\",{className:\"modules-list\",children:modules.map(mod=>/*#__PURE__*/_jsxs(\"li\",{className:\"module-item\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:completed.includes(mod._id),onChange:e=>handleCheck(mod._id,e.target.checked)}),mod.title]}),/*#__PURE__*/_jsx(\"ul\",{style:{marginTop:8,marginBottom:0},children:mod.lessons&&mod.lessons.length>0?mod.lessons.map(lesson=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:4},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:500},children:lesson.title}),\" (\",lesson.contentType,\")\",lesson.contentType==='text'&&/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:8},onClick:()=>setViewer({open:true,lesson}),children:\"View Text\"}),lesson.contentType==='pdf'&&lesson.contentUrl&&/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:8},onClick:()=>setViewer({open:true,lesson}),children:\"View PDF\"}),lesson.contentType==='slide'&&lesson.contentUrl&&/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:8},onClick:()=>setViewer({open:true,lesson}),children:\"View PPT\"}),lesson.contentType==='video'&&lesson.contentUrl&&/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:8},onClick:()=>setViewer({open:true,lesson}),children:\"View Video\"}),(lesson.contentType==='doc'||lesson.contentType==='pages')&&lesson.contentUrl&&/*#__PURE__*/_jsxs(\"button\",{style:{marginLeft:8},onClick:()=>setViewer({open:true,lesson}),children:[\"View \",lesson.contentType.toUpperCase()]})]},lesson._id)):/*#__PURE__*/_jsx(\"li\",{style:{color:'#888'},children:\"No lessons yet.\"})}),mod.assignments&&mod.assignments.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Assignments\"}),/*#__PURE__*/_jsx(\"ul\",{children:mod.assignments&&mod.assignments.length>0&&mod.assignments.map(assignment=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:4},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:500},children:assignment.title}),/*#__PURE__*/_jsx(\"p\",{children:assignment.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Due: \",new Date(assignment.dueDate).toLocaleDateString()]}),user&&course&&course.instructor&&(user._id===course.instructor._id||user.role==='admin')?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:8},onClick:()=>handleViewSubmissions(assignment),children:\"View Submissions\"}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:8,backgroundColor:'red',color:'white'},onClick:()=>handleDeleteAssignment(assignment._id),children:\"Delete Assignment\"})]}):/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:8},onClick:()=>setAssignmentViewer({open:true,assignment,submission:assignment.userSubmission}),children:assignment.userSubmission?\"See Grade\":\"Submit Assignment\"})]},assignment._id))})]}),mod.quizzes&&mod.quizzes.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Quizzes\"}),/*#__PURE__*/_jsx(\"ul\",{children:mod.quizzes&&mod.quizzes.length>0&&mod.quizzes.map(quiz=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:4},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:500},children:quiz.title}),/*#__PURE__*/_jsx(\"p\",{children:quiz.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Questions: \",quiz.questions.length]}),user&&course&&course.instructor&&user._id===course.instructor._id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:8},onClick:()=>setQuizViewer({open:true,quiz}),children:\"View Attempts\"}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:8,backgroundColor:'red',color:'white'},onClick:()=>handleDeleteQuiz(quiz._id),children:\"Delete Quiz\"})]}):/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:8},onClick:()=>handleTakeQuiz(quiz._id),children:\"Take Quiz\"})]},quiz._id))})]})]},mod._id))}),viewer.open&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(0,0,0,0.5)',zIndex:1000,display:'flex',alignItems:'center',justifyContent:'center'},onClick:()=>setViewer({open:false,lesson:null}),children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',padding:24,borderRadius:8,maxWidth:'90vw',maxHeight:'90vh',overflow:'auto',position:'relative'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{style:{position:'absolute',top:8,right:8},onClick:()=>setViewer({open:false,lesson:null}),children:\"Close\"}),/*#__PURE__*/_jsx(\"h3\",{children:(_viewer$lesson=viewer.lesson)===null||_viewer$lesson===void 0?void 0:_viewer$lesson.title}),((_viewer$lesson2=viewer.lesson)===null||_viewer$lesson2===void 0?void 0:_viewer$lesson2.contentType)==='text'&&/*#__PURE__*/_jsx(\"div\",{style:{whiteSpace:'pre-wrap',color:'#333',maxWidth:'60vw',maxHeight:'60vh',overflow:'auto'},children:viewer.lesson.content}),((_viewer$lesson3=viewer.lesson)===null||_viewer$lesson3===void 0?void 0:_viewer$lesson3.contentType)==='pdf'&&((_viewer$lesson4=viewer.lesson)===null||_viewer$lesson4===void 0?void 0:_viewer$lesson4.contentUrl)&&/*#__PURE__*/_jsx(\"iframe\",{src:\"http://localhost:5000\".concat(viewer.lesson.contentUrl),title:\"PDF Viewer\",style:{width:'70vw',height:'70vh',border:'none'}}),((_viewer$lesson5=viewer.lesson)===null||_viewer$lesson5===void 0?void 0:_viewer$lesson5.contentType)==='slide'&&((_viewer$lesson6=viewer.lesson)===null||_viewer$lesson6===void 0?void 0:_viewer$lesson6.contentUrl)&&/*#__PURE__*/_jsx(\"iframe\",{src:\"https://view.officeapps.live.com/op/embed.aspx?src=\".concat(encodeURIComponent('http://localhost:5000'+viewer.lesson.contentUrl)),title:\"PPT Viewer\",style:{width:'70vw',height:'70vh',border:'none'}}),((_viewer$lesson7=viewer.lesson)===null||_viewer$lesson7===void 0?void 0:_viewer$lesson7.contentType)==='doc'&&((_viewer$lesson8=viewer.lesson)===null||_viewer$lesson8===void 0?void 0:_viewer$lesson8.contentUrl)&&/*#__PURE__*/_jsx(\"iframe\",{src:\"https://view.officeapps.live.com/op/embed.aspx?src=\".concat(encodeURIComponent('http://localhost:5000'+viewer.lesson.contentUrl)),title:\"DOC Viewer\",style:{width:'70vw',height:'70vh',border:'none'}}),((_viewer$lesson9=viewer.lesson)===null||_viewer$lesson9===void 0?void 0:_viewer$lesson9.contentType)==='pages'&&((_viewer$lesson0=viewer.lesson)===null||_viewer$lesson0===void 0?void 0:_viewer$lesson0.contentUrl)&&/*#__PURE__*/_jsx(\"iframe\",{src:\"http://localhost:5000\".concat(viewer.lesson.contentUrl),title:\"Pages Viewer\",style:{width:'70vw',height:'70vh',border:'none'}}),((_viewer$lesson1=viewer.lesson)===null||_viewer$lesson1===void 0?void 0:_viewer$lesson1.contentType)==='video'&&((_viewer$lesson10=viewer.lesson)===null||_viewer$lesson10===void 0?void 0:_viewer$lesson10.contentUrl)&&/*#__PURE__*/_jsx(\"video\",{src:\"http://localhost:5000\".concat(viewer.lesson.contentUrl),controls:true,style:{width:'70vw',maxHeight:'70vh'}})]})}),quizViewer.open&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(0,0,0,0.5)',zIndex:1000,display:'flex',alignItems:'center',justifyContent:'center'},onClick:()=>setQuizViewer({open:false,quiz:null}),children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',padding:24,borderRadius:8,maxWidth:'90vw',maxHeight:'90vh',overflow:'auto',position:'relative'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{style:{position:'absolute',top:8,right:8},onClick:()=>setQuizViewer({open:false,quiz:null}),children:\"Close\"}),/*#__PURE__*/_jsx(\"h3\",{children:(_quizViewer$quiz=quizViewer.quiz)===null||_quizViewer$quiz===void 0?void 0:_quizViewer$quiz.title}),/*#__PURE__*/_jsx(\"p\",{children:(_quizViewer$quiz2=quizViewer.quiz)===null||_quizViewer$quiz2===void 0?void 0:_quizViewer$quiz2.description}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>{e.preventDefault();handleSubmitQuiz();},children:[(_quizViewer$quiz3=quizViewer.quiz)===null||_quizViewer$quiz3===void 0?void 0:_quizViewer$quiz3.questions.map((q,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12},children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:q.question})}),q.options.map((opt,i)=>/*#__PURE__*/_jsxs(\"label\",{style:{display:'block'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"question-\".concat(idx),value:i,checked:quizAnswers[idx]===i,onChange:()=>{const newAnswers=[...quizAnswers];newAnswers[idx]=i;setQuizAnswers(newAnswers);},required:true}),opt]},i))]},idx)),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit Quiz\"})]})]})}),assignmentViewer.open&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(0,0,0,0.5)',zIndex:1000,display:'flex',alignItems:'center',justifyContent:'center'},onClick:()=>setAssignmentViewer({open:false,assignment:null,submissions:[]}),children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',padding:24,borderRadius:8,maxWidth:'90vw',maxHeight:'90vh',overflow:'auto',position:'relative'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{style:{position:'absolute',top:8,right:8},onClick:()=>setAssignmentViewer({open:false,assignment:null,submissions:[]}),children:\"Close\"}),/*#__PURE__*/_jsx(\"h3\",{children:(_assignmentViewer$ass=assignmentViewer.assignment)===null||_assignmentViewer$ass===void 0?void 0:_assignmentViewer$ass.title}),/*#__PURE__*/_jsx(\"p\",{children:(_assignmentViewer$ass2=assignmentViewer.assignment)===null||_assignmentViewer$ass2===void 0?void 0:_assignmentViewer$ass2.description}),assignmentViewer.submissions&&assignmentViewer.submissions.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Submissions\"}),/*#__PURE__*/_jsx(\"ul\",{children:assignmentViewer.submissions.map(sub=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:8},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Student:\"}),\" \",sub.student.name,\" (\",sub.student.email,\")\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Submission:\"}),\" \",sub.submission]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Grade:\"}),\" \",sub.grade!==undefined?sub.grade:'Assignment to be graded']}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"100\",placeholder:\"Enter grade\",onChange:e=>sub.tempGrade=e.target.value,style:{width:100,marginRight:8}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleGradeSubmission(sub.student._id,sub.tempGrade),children:\"Submit Grade\"})]},sub._id))})]}):assignmentViewer.submission?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Your Submission\"}),/*#__PURE__*/_jsx(\"p\",{children:assignmentViewer.submission.submission}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Grade:\"}),\" \",assignmentViewer.submission.grade!==undefined?assignmentViewer.submission.grade:'Assignment to be graded']})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>{e.preventDefault();handleSubmitAssignment();},children:[/*#__PURE__*/_jsx(\"textarea\",{value:assignmentSubmission,onChange:e=>setAssignmentSubmission(e.target.value),placeholder:\"Enter your submission here\",rows:10,style:{width:'100%'},required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit Assignment\"})]})]})})]});};export default CourseContent;","map":{"version":3,"names":["React","useState","useEffect","useParams","apiRequest","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CourseContent","_viewer$lesson","_viewer$lesson2","_viewer$lesson3","_viewer$lesson4","_viewer$lesson5","_viewer$lesson6","_viewer$lesson7","_viewer$lesson8","_viewer$lesson9","_viewer$lesson0","_viewer$lesson1","_viewer$lesson10","_quizViewer$quiz","_quizViewer$quiz2","_quizViewer$quiz3","_assignmentViewer$ass","_assignmentViewer$ass2","id","user","modules","setModules","completed","setCompleted","course","setCourse","viewer","setViewer","open","lesson","quizViewer","setQuizViewer","quiz","attempts","assignmentViewer","setAssignmentViewer","assignment","submissions","quizAnswers","setQuizAnswers","assignmentSubmission","setAssignmentSubmission","statusMsg","setStatusMsg","errorMsg","setErrorMsg","fetchContent","data","concat","completedModules","err","message","console","error","handleCheck","moduleId","checked","resp","log","handleTakeQuiz","quizId","Array","questions","length","fill","handleSubmitQuiz","answers","map","answer","index","questionIndex","selectedAnswer","_id","score","handleSubmitAssignment","submission","alert","handleViewSubmissions","handleGradeSubmission","studentId","grade","handleDeleteAssignment","assignmentId","handleDeleteQuiz","progress","className","children","title","style","color","marginBottom","width","mod","type","includes","onChange","e","target","marginTop","lessons","fontWeight","contentType","marginLeft","onClick","contentUrl","toUpperCase","assignments","description","Date","dueDate","toLocaleDateString","instructor","role","backgroundColor","userSubmission","quizzes","position","top","left","height","background","zIndex","display","alignItems","justifyContent","padding","borderRadius","maxWidth","maxHeight","overflow","stopPropagation","right","whiteSpace","content","src","border","encodeURIComponent","controls","onSubmit","preventDefault","q","idx","question","options","opt","i","name","value","newAnswers","required","sub","student","email","undefined","min","max","placeholder","tempGrade","marginRight","rows"],"sources":["/Users/mohit/Downloads/CertifyHub/client/src/pages/CourseContent.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport apiRequest from '../utils/api';\nimport useAuth from '../hooks/useAuth';\nimport './CourseContent.css';\n\nconst CourseContent = () => {\n  const { id } = useParams();\n  const { user } = useAuth();\n  const [modules, setModules] = useState([]);\n  const [completed, setCompleted] = useState([]);\n   const [course, setCourse] = useState(null);\n   const [viewer, setViewer] = useState({ open: false, lesson: null });\n   const [quizViewer, setQuizViewer] = useState({ open: false, quiz: null, attempts: [] });\n   const [assignmentViewer, setAssignmentViewer] = useState({ open: false, assignment: null, submissions: [] });\n   const [quizAnswers, setQuizAnswers] = useState([]);\n   const [assignmentSubmission, setAssignmentSubmission] = useState(\"\");\n   const [statusMsg, setStatusMsg] = useState(\"\");\n   const [errorMsg, setErrorMsg] = useState(\"\");\n\n  useEffect(() => {\n    fetchContent();\n  }, [id]);\n\n  const fetchContent = async () => {\n    try {\n      setErrorMsg(\"\");\n      const data = await apiRequest(`/courses/${id}/content`, 'GET', null, true);\n      setModules(data.modules || []);\n      setCompleted(data.completedModules || []);\n      setCourse(data.course || null);\n    } catch (err) {\n      setErrorMsg('Failed to load course content: ' + err.message);\n      console.error('Failed to load course content', err);\n    }\n  };\n\n\n  const handleCheck = async (moduleId, checked) => {\n    try {\n      setStatusMsg(checked ? \"Marking as complete...\" : \"Marking as incomplete...\");\n      setErrorMsg(\"\");\n      let resp;\n      if (checked) {\n        resp = await apiRequest(`/courses/${id}/modules/${moduleId}/complete`, 'POST', null, true);\n      } else {\n        resp = await apiRequest(`/courses/${id}/modules/${moduleId}/incomplete`, 'POST', null, true);\n      }\n      setStatusMsg(resp && resp.message ? resp.message : \"Progress updated.\");\n      console.log(\"Progress API response:\", resp);\n      // Always refetch content to get latest progress\n      await fetchContent();\n    } catch (err) {\n      setErrorMsg('Failed to update progress: ' + err.message);\n      setStatusMsg(\"\");\n      console.error('Failed to update progress', err);\n    }\n  };\n\n  const handleTakeQuiz = async (quizId) => {\n    try {\n      setErrorMsg(\"\");\n      const quiz = await apiRequest(`/quizzes/single/${quizId}`, 'GET', null, true);\n      setQuizAnswers(new Array(quiz.questions.length).fill(null));\n      setQuizViewer({ open: true, quiz });\n    } catch (err) {\n      setErrorMsg('Failed to load quiz: ' + err.message);\n      console.error('Failed to load quiz', err);\n    }\n  };\n\n  const handleSubmitQuiz = async () => {\n    try {\n      setErrorMsg(\"\");\n      const answers = quizAnswers.map((answer, index) => ({ questionIndex: index, selectedAnswer: answer }));\n      const resp = await apiRequest(`/quizzes/${quizViewer.quiz._id}/submit`, 'POST', { answers }, true);\n      setStatusMsg(`Quiz submitted! Score: ${resp.score}%`);\n      setQuizViewer({ open: false, quiz: null });\n      setQuizAnswers([]);\n    } catch (err) {\n      setErrorMsg('Failed to submit quiz: ' + err.message);\n      console.error('Failed to submit quiz', err);\n    }\n  };\n\n  const handleSubmitAssignment = async () => {\n    try {\n      setErrorMsg(\"\");\n      await apiRequest(`/assignments/${assignmentViewer.assignment._id}/submit`, 'POST', { submission: assignmentSubmission }, true);\n      alert(\"Assignment submitted successfully!\");\n      setAssignmentViewer({ open: false, assignment: null, submissions: [] });\n      setAssignmentSubmission(\"\");\n    } catch (err) {\n      setErrorMsg('Failed to submit assignment: ' + err.message);\n      console.error('Failed to submit assignment', err);\n    }\n  };\n\n  const handleViewSubmissions = async (assignment) => {\n    try {\n      setErrorMsg(\"\");\n      const data = await apiRequest(`/assignments/${assignment._id}/submissions`, 'GET', null, true);\n      setAssignmentViewer({ open: true, assignment, submissions: data.submissions || [] });\n    } catch (err) {\n      setErrorMsg('Failed to load submissions: ' + err.message);\n      console.error('Failed to load submissions', err);\n    }\n  };\n\n  const handleGradeSubmission = async (studentId, grade) => {\n    try {\n      await apiRequest(`/assignments/${assignmentViewer.assignment._id}/grade/${studentId}`, 'PUT', { grade }, true);\n      setStatusMsg(\"Submission graded successfully!\");\n      // Refresh submissions\n      if (assignmentViewer.assignment) {\n        await handleViewSubmissions(assignmentViewer.assignment);\n      }\n    } catch (err) {\n      setErrorMsg('Failed to grade submission: ' + err.message);\n      console.error('Failed to grade submission', err);\n    }\n  };\n\n  const handleDeleteAssignment = async (assignmentId) => {\n    try {\n      await apiRequest(`/assignments/${assignmentId}`, 'DELETE', null, true);\n      setStatusMsg(\"Assignment deleted successfully!\");\n      await fetchContent();\n    } catch (err) {\n      setErrorMsg('Failed to delete assignment: ' + err.message);\n      console.error('Failed to delete assignment', err);\n    }\n  };\n\n  const handleDeleteQuiz = async (quizId) => {\n    try {\n      await apiRequest(`/quizzes/${quizId}`, 'DELETE', null, true);\n      setStatusMsg(\"Quiz deleted successfully!\");\n      await fetchContent();\n    } catch (err) {\n      setErrorMsg('Failed to delete quiz: ' + err.message);\n      console.error('Failed to delete quiz', err);\n    }\n  };\n\n  const progress = modules.length ? (completed.length / modules.length) * 100 : 0;\n\n  return (\n    <div className=\"course-content-page\">\n      <h2>{course ? course.title : 'Course Content'}</h2>\n      {statusMsg && <div style={{ color: 'green', marginBottom: 8 }}>{statusMsg}</div>}\n      {errorMsg && <div style={{ color: 'red', marginBottom: 8 }}>{errorMsg}</div>}\n      <div className=\"progress-bar\">\n        <div className=\"progress\" style={{ width: `${progress}%` }} />\n      </div>\n      <ul className=\"modules-list\">\n        {modules.map((mod) => (\n          <li key={mod._id} className=\"module-item\">\n            <label>\n              <input\n                type=\"checkbox\"\n                checked={completed.includes(mod._id)}\n                onChange={e => handleCheck(mod._id, e.target.checked)}\n              />\n              {mod.title}\n            </label>\n            <ul style={{ marginTop: 8, marginBottom: 0 }}>\n              {mod.lessons && mod.lessons.length > 0 ? mod.lessons.map(lesson => (\n                <li key={lesson._id} style={{ marginBottom: 4 }}>\n                  <span style={{ fontWeight: 500 }}>{lesson.title}</span> ({lesson.contentType})\n                  {lesson.contentType === 'text' && (\n                    <button style={{ marginLeft: 8 }} onClick={() => setViewer({ open: true, lesson })}>View Text</button>\n                  )}\n                  {lesson.contentType === 'pdf' && lesson.contentUrl && (\n                    <button style={{ marginLeft: 8 }} onClick={() => setViewer({ open: true, lesson })}>View PDF</button>\n                  )}\n                  {lesson.contentType === 'slide' && lesson.contentUrl && (\n                    <button style={{ marginLeft: 8 }} onClick={() => setViewer({ open: true, lesson })}>View PPT</button>\n                  )}\n                  {lesson.contentType === 'video' && lesson.contentUrl && (\n                    <button style={{ marginLeft: 8 }} onClick={() => setViewer({ open: true, lesson })}>View Video</button>\n                  )}\n                  {(lesson.contentType === 'doc' || lesson.contentType === 'pages') && lesson.contentUrl && (\n                    <button style={{ marginLeft: 8 }} onClick={() => setViewer({ open: true, lesson })}>View {lesson.contentType.toUpperCase()}</button>\n                  )}\n                </li>\n              )) : <li style={{ color: '#888' }}>No lessons yet.</li>}\n            </ul>\n            {/* Assignments */}\n            {mod.assignments && mod.assignments.length > 0 && (\n              <div style={{ marginTop: 8 }}>\n                <h4>Assignments</h4>\n                <ul>\n            {mod.assignments && mod.assignments.length > 0 && mod.assignments.map(assignment => (\n              <li key={assignment._id} style={{ marginBottom: 4 }}>\n                <span style={{ fontWeight: 500 }}>{assignment.title}</span>\n                <p>{assignment.description}</p>\n                <p>Due: {new Date(assignment.dueDate).toLocaleDateString()}</p>\n                {user && course && course.instructor && (user._id === course.instructor._id || user.role === 'admin') ? (\n                  <>\n                    <button style={{ marginLeft: 8 }} onClick={() => handleViewSubmissions(assignment)}>View Submissions</button>\n                    <button style={{ marginLeft: 8, backgroundColor: 'red', color: 'white' }} onClick={() => handleDeleteAssignment(assignment._id)}>Delete Assignment</button>\n                  </>\n                ) : (\n                  <button style={{ marginLeft: 8 }} onClick={() => setAssignmentViewer({ open: true, assignment, submission: assignment.userSubmission })}>{assignment.userSubmission ? \"See Grade\" : \"Submit Assignment\"}</button>\n                )}\n              </li>\n            ))}\n                </ul>\n              </div>\n            )}\n            {/* Quizzes */}\n            {mod.quizzes && mod.quizzes.length > 0 && (\n              <div style={{ marginTop: 8 }}>\n                <h4>Quizzes</h4>\n                <ul>\n            {mod.quizzes && mod.quizzes.length > 0 && mod.quizzes.map(quiz => (\n              <li key={quiz._id} style={{ marginBottom: 4 }}>\n                <span style={{ fontWeight: 500 }}>{quiz.title}</span>\n                <p>{quiz.description}</p>\n                <p>Questions: {quiz.questions.length}</p>\n                {user && course && course.instructor && user._id === course.instructor._id ? (\n                  <>\n                    <button style={{ marginLeft: 8 }} onClick={() => setQuizViewer({ open: true, quiz })}>View Attempts</button>\n                    <button style={{ marginLeft: 8, backgroundColor: 'red', color: 'white' }} onClick={() => handleDeleteQuiz(quiz._id)}>Delete Quiz</button>\n                  </>\n                ) : (\n                  <button style={{ marginLeft: 8 }} onClick={() => handleTakeQuiz(quiz._id)}>Take Quiz</button>\n                )}\n              </li>\n            ))}\n                </ul>\n              </div>\n            )}\n          </li>\n        ))}\n      </ul>\n      {/* Modal Viewer */}\n      {viewer.open && (\n        <div style={{ position: 'fixed', top: 0, left: 0, width: '100vw', height: '100vh', background: 'rgba(0,0,0,0.5)', zIndex: 1000, display: 'flex', alignItems: 'center', justifyContent: 'center' }} onClick={() => setViewer({ open: false, lesson: null })}>\n          <div style={{ background: '#fff', padding: 24, borderRadius: 8, maxWidth: '90vw', maxHeight: '90vh', overflow: 'auto', position: 'relative' }} onClick={e => e.stopPropagation()}>\n            <button style={{ position: 'absolute', top: 8, right: 8 }} onClick={() => setViewer({ open: false, lesson: null })}>Close</button>\n            <h3>{viewer.lesson?.title}</h3>\n            {viewer.lesson?.contentType === 'text' && (\n              <div style={{ whiteSpace: 'pre-wrap', color: '#333', maxWidth: '60vw', maxHeight: '60vh', overflow: 'auto' }}>{viewer.lesson.content}</div>\n            )}\n            {viewer.lesson?.contentType === 'pdf' && viewer.lesson?.contentUrl && (\n              <iframe src={`http://localhost:5000${viewer.lesson.contentUrl}`} title=\"PDF Viewer\" style={{ width: '70vw', height: '70vh', border: 'none' }} />\n            )}\n            {viewer.lesson?.contentType === 'slide' && viewer.lesson?.contentUrl && (\n              <iframe src={`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent('http://localhost:5000' + viewer.lesson.contentUrl)}`} title=\"PPT Viewer\" style={{ width: '70vw', height: '70vh', border: 'none' }} />\n            )}\n            {viewer.lesson?.contentType === 'doc' && viewer.lesson?.contentUrl && (\n              <iframe src={`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent('http://localhost:5000' + viewer.lesson.contentUrl)}`} title=\"DOC Viewer\" style={{ width: '70vw', height: '70vh', border: 'none' }} />\n            )}\n            {viewer.lesson?.contentType === 'pages' && viewer.lesson?.contentUrl && (\n              <iframe src={`http://localhost:5000${viewer.lesson.contentUrl}`} title=\"Pages Viewer\" style={{ width: '70vw', height: '70vh', border: 'none' }} />\n            )}\n            {viewer.lesson?.contentType === 'video' && viewer.lesson?.contentUrl && (\n              <video src={`http://localhost:5000${viewer.lesson.contentUrl}`} controls style={{ width: '70vw', maxHeight: '70vh' }} />\n            )}\n          </div>\n        </div>\n      )}\n      {/* Quiz Viewer */}\n      {quizViewer.open && (\n        <div style={{ position: 'fixed', top: 0, left: 0, width: '100vw', height: '100vh', background: 'rgba(0,0,0,0.5)', zIndex: 1000, display: 'flex', alignItems: 'center', justifyContent: 'center' }} onClick={() => setQuizViewer({ open: false, quiz: null })}>\n          <div style={{ background: '#fff', padding: 24, borderRadius: 8, maxWidth: '90vw', maxHeight: '90vh', overflow: 'auto', position: 'relative' }} onClick={e => e.stopPropagation()}>\n            <button style={{ position: 'absolute', top: 8, right: 8 }} onClick={() => setQuizViewer({ open: false, quiz: null })}>Close</button>\n            <h3>{quizViewer.quiz?.title}</h3>\n            <p>{quizViewer.quiz?.description}</p>\n            <form onSubmit={e => { e.preventDefault(); handleSubmitQuiz(); }}>\n              {quizViewer.quiz?.questions.map((q, idx) => (\n                <div key={idx} style={{ marginBottom: 12 }}>\n                  <p><strong>{q.question}</strong></p>\n                  {q.options.map((opt, i) => (\n                    <label key={i} style={{ display: 'block' }}>\n                      <input\n                        type=\"radio\"\n                        name={`question-${idx}`}\n                        value={i}\n                        checked={quizAnswers[idx] === i}\n                        onChange={() => {\n                          const newAnswers = [...quizAnswers];\n                          newAnswers[idx] = i;\n                          setQuizAnswers(newAnswers);\n                        }}\n                        required\n                      />\n                      {opt}\n                    </label>\n                  ))}\n                </div>\n              ))}\n              <button type=\"submit\">Submit Quiz</button>\n            </form>\n          </div>\n        </div>\n      )}\n      {/* Assignment Viewer */}\n      {assignmentViewer.open && (\n        <div style={{ position: 'fixed', top: 0, left: 0, width: '100vw', height: '100vh', background: 'rgba(0,0,0,0.5)', zIndex: 1000, display: 'flex', alignItems: 'center', justifyContent: 'center' }} onClick={() => setAssignmentViewer({ open: false, assignment: null, submissions: [] })}>\n          <div style={{ background: '#fff', padding: 24, borderRadius: 8, maxWidth: '90vw', maxHeight: '90vh', overflow: 'auto', position: 'relative' }} onClick={e => e.stopPropagation()}>\n            <button style={{ position: 'absolute', top: 8, right: 8 }} onClick={() => setAssignmentViewer({ open: false, assignment: null, submissions: [] })}>Close</button>\n            <h3>{assignmentViewer.assignment?.title}</h3>\n            <p>{assignmentViewer.assignment?.description}</p>\n            {assignmentViewer.submissions && assignmentViewer.submissions.length > 0 ? (\n              <div>\n                <h4>Submissions</h4>\n                <ul>\n                  {assignmentViewer.submissions.map(sub => (\n                    <li key={sub._id} style={{ marginBottom: 8 }}>\n                      <p><strong>Student:</strong> {sub.student.name} ({sub.student.email})</p>\n                      <p><strong>Submission:</strong> {sub.submission}</p>\n                      <p><strong>Grade:</strong> {sub.grade !== undefined ? sub.grade : 'Assignment to be graded'}</p>\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"100\"\n                        placeholder=\"Enter grade\"\n                        onChange={e => sub.tempGrade = e.target.value}\n                        style={{ width: 100, marginRight: 8 }}\n                      />\n                      <button onClick={() => handleGradeSubmission(sub.student._id, sub.tempGrade)}>Submit Grade</button>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            ) : assignmentViewer.submission ? (\n              <div>\n                <h4>Your Submission</h4>\n                <p>{assignmentViewer.submission.submission}</p>\n                <p><strong>Grade:</strong> {assignmentViewer.submission.grade !== undefined ? assignmentViewer.submission.grade : 'Assignment to be graded'}</p>\n              </div>\n            ) : (\n              <form onSubmit={e => { e.preventDefault(); handleSubmitAssignment(); }}>\n                <textarea\n                  value={assignmentSubmission}\n                  onChange={e => setAssignmentSubmission(e.target.value)}\n                  placeholder=\"Enter your submission here\"\n                  rows={10}\n                  style={{ width: '100%' }}\n                  required\n                />\n                <button type=\"submit\">Submit Assignment</button>\n              </form>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CourseContent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}